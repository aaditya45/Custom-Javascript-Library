<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <title>AJAX Examples</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/mdb.min.css">
    <script src='js/customJavascriptLibrary.js'></script>
    <script>

        function populateDesignations() {
            $$$.ajax({
                "url": "servletOne",
                "methodType": "GET",
                "success": function (responseData) {
                    var designations = JSON.parse(responseData);
                    $$$("designationCode").fillComboBox({
                        "dataSource": designations,
                        "text": "title",
                        "value": "code",
                        "firstOption": {
                            "text": "<select designation>",
                            "value": "-1"
                        }
                    });
                },
                "failure": function () {
                    alert("Some problem");
                }
            });
        }
        window.addEventListener('load', populateDesignations);
    </script>
</head>

<body>
    <script src="js/navbar.js"></script>
    <center>
        <h1>Get type request Example</h1>
        <img src="images/info.png" style="width:20px;height:20px;"> Requesting servlet to fetch all the data from database (MYSQL) and map it in select element of HTML <b>Without</b> reloading the page.<br>
            <hr>
        <select id='designationCode'>
        </select>
        <br>
        <br>
        <a href='index.html'>Home</a>
        <hr>
    </center>
    <script src="js/footer.js"></script>
</body>

</html>